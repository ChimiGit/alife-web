---
import '../../../styles/global.css';
---

<!-- History Content -->
<div class="w-full px-4 mt-12">
  <style>
    /* Timeline Animation Styles */
    .timeline-line {
      transform: scaleY(0);
      transform-origin: top;
      transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .timeline-line.animate {
      transform: scaleY(1);
    }
    
    .timeline-dot {
      opacity: 1;
      transform: scale(1);
      transition: opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    
    .timeline-dot.animate {
      opacity: 1;
      transform: scale(1);
    }
    
    .timeline-content {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }
    
    .timeline-content.animate {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Staggered animation delays */
    .timeline-item:nth-child(1) .timeline-content { transition-delay: 0.2s; }
    .timeline-item:nth-child(2) .timeline-content { transition-delay: 0.4s; }
    .timeline-item:nth-child(3) .timeline-content { transition-delay: 0.6s; }
    .timeline-item:nth-child(4) .timeline-content { transition-delay: 0.8s; }
    .timeline-item:nth-child(5) .timeline-content { transition-delay: 1.0s; }
    
    .timeline-item:nth-child(1) .timeline-dot { transition-delay: 0.1s; }
    .timeline-item:nth-child(2) .timeline-dot { transition-delay: 0.3s; }
    .timeline-item:nth-child(3) .timeline-dot { transition-delay: 0.5s; }
    .timeline-item:nth-child(4) .timeline-dot { transition-delay: 0.7s; }
    .timeline-item:nth-child(5) .timeline-dot { transition-delay: 0.9s; }
    
    /* Timeline line styling */
    .timeline-line {
      position: absolute;
      left: 50%;
      top: 0;
      width: 1px;
      background-color: #2E3192;
      transform: translateX(-50%);
      z-index: 1;
    }
    
    /* Timeline dot styling */
    .timeline-dot {
      width: 12px;
      height: 12px;
      background-color: #2E3192;
      border: 2px solid white;
      border-radius: 50%;
      display: block;
      visibility: visible;
      opacity: 1;
      transform: scale(1);
      position: relative;
      z-index: 10;
      flex-shrink: 0;
    }
    
    /* Desktop specific styling */
    @media (min-width: 768px) {
      .timeline-dot {
        width: 16px;
        height: 16px;
        border: 3px solid white;
      }
      
      .timeline-content {
        opacity: 1 !important;
        transform: translateY(0) !important;
      }
      
      .timeline-line {
        transform: translateX(-50%) scaleY(1) !important;
      }
    }
    
    /* Mobile specific styling */
    @media (max-width: 767px) {
      .timeline-content {
        opacity: 1 !important;
        transform: translateY(0) !important;
      }
      
      .timeline-line {
        transform: translateX(-50%) scaleY(1) !important;
      }
    }
  </style>
  
  <h2 class="text-64px text-primary mb-2" style="font-family: 'GT Alpina Fine', serif;">History</h2>
  <div class="mb-15">
    <span class="text-20px text-primary" style="font-family: 'Inter', sans-serif; line-height: 2; font-weight: 300;"><strong>Why Us?</strong> We are already well positioned to succeed.</span>
  </div>

  <!-- Timeline -->
  <div class="relative w-full">
    <!-- Timeline Line (Vertical) -->
    <div class="timeline-line" style="height: calc(100% - 1rem);"></div>
    
    <!-- Vertical Layout for Both Desktop and Mobile -->
    <div class="space-y-16 md:space-y-20">
      <!-- Item 1 -->
      <div class="timeline-item flex items-center">
        <!-- Left Content -->
        <div class="timeline-content w-1/2 pr-8 text-end">
          <span class="text-3xl md:text-4xl text-primary block" style="font-family: 'GT Alpina Fine', serif;">Sakana.ai</span>
          <span class="inline-flex items-center gap-x-1.5 py-1 px-3 md:px-5 rounded-full text-xs bg-primary text-white mt-2">Jan, 2024</span>
          <p class="text-sm md:text-base text-primary mt-2 block">1st Japanese company with a focus on ALife. $30M seed round.</p>
        </div>
        
        <!-- Timeline Dot -->
        <div class="relative z-10 size-7 md:size-8 flex justify-center items-center">
          <div class="timeline-dot"></div>
        </div>
        
        <!-- Right Content -->
        <div class="timeline-content w-1/2 pl-8">
          <img src={`${import.meta.env.BASE_URL}assets/images/We-raised-30M 1.svg`} alt="Sakana.ai Logo" class="h-20 md:h-32 w-auto mx-auto" loading="lazy"/>
        </div>
      </div>

      <!-- Item 2 -->
      <div class="timeline-item flex items-center">
        <!-- Left Content -->
        <div class="timeline-content w-1/2 pr-8 flex justify-end">
          <img src={`${import.meta.env.BASE_URL}assets/logo/logo3.svg`} alt="ALIFE Logo" class="h-12 md:h-20 w-auto filter-primary" loading="lazy"/>
        </div>
        
        <!-- Timeline Dot -->
        <div class="relative z-10 size-7 md:size-8 flex justify-center items-center">
          <div class="timeline-dot"></div>
        </div>
        
        <!-- Right Content -->
        <div class="timeline-content w-1/2 pl-8">
          <span class="text-2xl md:text-4xl text-primary block" style="font-family: 'GT Alpina Fine', serif;">ALIFE Institute</span>
          <span class="text-2xl md:text-4xl text-primary block" style="font-family: 'GT Alpina Fine', serif;">Incorporated</span>
        </div>
      </div>

      <!-- Item 3 -->
      <div class="timeline-item flex items-center">
        <!-- Left Content -->
        <div class="timeline-content w-1/2 pr-8 text-end">
          <span class="text-2xl md:text-4xl text-primary block" style="font-family: 'GT Alpina Fine', serif;">Research</span>
          <span class="text-2xl md:text-4xl text-primary block" style="font-family: 'GT Alpina Fine', serif;">Projects Began</span>
          <span class="inline-flex items-center gap-x-1.5 py-1 px-3 md:px-5 rounded-full text-xs bg-primary text-white mt-2">Dec, 2024</span>
        </div>
        
        <!-- Timeline Dot -->
        <div class="relative z-10 size-7 md:size-8 flex justify-center items-center">
          <div class="timeline-dot"></div>
        </div>
        
        <!-- Right Content -->
        <div class="timeline-content w-1/2 pl-8">
          <!-- Research Project Grid -->
          <div class="grid grid-cols-2 md:grid-cols-3 gap-2 max-w-md mx-auto">
            <div class="text-center">
              <div class="overflow-hidden rounded-lg">
                <img src={`${import.meta.env.BASE_URL}assets/research-project/Ellipse 314.svg`} alt="Primordial Soup" class="w-full h-16 md:h-20 object-cover" loading="lazy"/>
              </div>
            </div>
            <div class="text-center">
              <div class="overflow-hidden rounded-lg">
                <img src={`${import.meta.env.BASE_URL}assets/research-project/Ellipse 315.svg`} alt="Structure" class="w-full h-16 md:h-20 object-cover" loading="lazy"/>
              </div>
            </div>
            <div class="text-center">
              <div class="overflow-hidden rounded-lg">
                <img src={`${import.meta.env.BASE_URL}assets/research-project/Ellipse 316.svg`} alt="Locomotion" class="w-full h-16 md:h-20 object-cover" loading="lazy"/>
              </div>
            </div>
            <div class="text-center">
              <div class="overflow-hidden rounded-lg">
                <img src={`${import.meta.env.BASE_URL}assets/research-project/Ellipse 317.svg`} alt="Coevolution" class="w-full h-16 md:h-20 object-cover" loading="lazy"/>
              </div>
            </div>
            <div class="text-center">
              <div class="overflow-hidden rounded-lg">
                <img src={`${import.meta.env.BASE_URL}assets/research-project/Ellipse 318.svg`} alt="Complexification" class="w-full h-16 md:h-20 object-cover" loading="lazy"/>
              </div>
            </div>
            <div class="text-center">
              <div class="overflow-hidden rounded-lg">
                <img src={`${import.meta.env.BASE_URL}assets/research-project/Ellipse 319.svg`} alt="Disordered Structures" class="w-full h-16 md:h-20 object-cover" loading="lazy"/>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="flex justify-center mt-10">
    <p class="text-20px" style="color: #FFAC3F; font-family: 'Inter', sans-serif;">*These are the labours of passionate researchers volunteering part-time.</p><br />
  </div>  
  <div class="flex justify-center">
    <p class="text-20px text-primary" style="font-family: 'Inter', sans-serif;">Imagine what we could do with a full time team!</p>
  </div> 
  <!-- End Timeline -->
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const timelineLine = document.querySelector('.timeline-line');
    const timelineDots = document.querySelectorAll('.timeline-dot');
    const timelineContents = document.querySelectorAll('.timeline-content');
    
    // Function to check if element is in viewport
    function isInViewport(element: Element) {
      const rect = element.getBoundingClientRect();
      const windowHeight = window.innerHeight || document.documentElement.clientHeight;
      return rect.top < windowHeight && rect.bottom > 0;
    }
    
    // Function to trigger animations
    function triggerAnimations() {
      if (timelineLine && isInViewport(timelineLine)) {
        // Animate timeline line
        timelineLine.classList.add('animate');
        
        // Animate dots with staggered delay
        setTimeout(() => {
          timelineDots.forEach((dot, index) => {
            setTimeout(() => {
              dot.classList.add('animate');
            }, index * 200);
          });
        }, 300);
        
        // Animate content with staggered delay
        setTimeout(() => {
          timelineContents.forEach((content, index) => {
            setTimeout(() => {
              content.classList.add('animate');
            }, index * 150);
          });
        }, 500);
      }
    }
    
    // Trigger animations on scroll
    window.addEventListener('scroll', triggerAnimations);
    
    // Trigger animations immediately if already in viewport
    setTimeout(triggerAnimations, 100);
  });
</script>
