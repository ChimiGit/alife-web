---
import '../../../styles/global.css';

export interface Props {
  // No props needed
}
---

<!-- History Content -->
<div class="max-w-4xl mx-auto px-4 mt-12">
  <style>
    /* Timeline Animation Styles */
    .timeline-line {
      transform: scaleY(0);
      transform-origin: top;
      transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .timeline-line.animate {
      transform: scaleY(1);
    }
    
    .timeline-dot {
      opacity: 0;
      transform: scale(0);
      transition: opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    
    .timeline-dot.animate {
      opacity: 1;
      transform: scale(1);
    }
    
    .timeline-content {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }
    
    .timeline-content.animate {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Staggered animation delays */
    .timeline-item:nth-child(1) .timeline-content { transition-delay: 0.2s; }
    .timeline-item:nth-child(2) .timeline-content { transition-delay: 0.4s; }
    .timeline-item:nth-child(3) .timeline-content { transition-delay: 0.6s; }
    .timeline-item:nth-child(4) .timeline-content { transition-delay: 0.8s; }
    .timeline-item:nth-child(5) .timeline-content { transition-delay: 1.0s; }
    
    .timeline-item:nth-child(1) .timeline-dot { transition-delay: 0.1s; }
    .timeline-item:nth-child(2) .timeline-dot { transition-delay: 0.3s; }
    .timeline-item:nth-child(3) .timeline-dot { transition-delay: 0.5s; }
    .timeline-item:nth-child(4) .timeline-dot { transition-delay: 0.7s; }
    .timeline-item:nth-child(5) .timeline-dot { transition-delay: 0.9s; }

    /* Mobile Responsive Styles */
    @media (max-width: 768px) {
      .timeline-line {
        left: 1.5rem !important;
        transform: none !important;
      }
      
      .timeline-item {
        flex-direction: column !important;
        align-items: flex-start !important;
        padding-left: 3rem !important;
        margin-bottom: 2rem !important;
      }
      
      .timeline-content {
        width: 100% !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
        text-align: left !important;
        margin-bottom: 1rem !important;
      }
      
      .timeline-icon {
        position: absolute !important;
        left: -2.5rem !important;
        top: 0.5rem !important;
        width: 1rem !important;
        height: 1rem !important;
      }
      
      .timeline-dot {
        width: 0.75rem !important;
        height: 0.75rem !important;
      }
      
      /* Hide right content on mobile for cleaner layout */
      .timeline-item .timeline-content:last-child {
        display: none;
      }
      
      /* Show only left content on mobile */
      .timeline-item .timeline-content:first-child {
        display: block !important;
      }
    }
  </style>
  
  <h2 class="text-5xl text-primary text-center mb-2" style="font-family: 'GT Alpina Fine', serif;">History</h2>
  <div class="text-center mb-15">
    <span class="text-20px text-primary" style="font-family: 'DM Sans', sans-serif; line-height: 2; font-weight: 300;">Why Us ? We are already well positioned to succeed.</span>
  </div>

  <!-- Timeline -->
  <div class="relative max-w-4xl mx-auto">
    <!-- Timeline Line -->
    <div class="timeline-line absolute left-1/2 top-0 w-px bg-gray-200 transform -translate-x-1/2" style="height: calc(100% - 0.75rem);"></div>
    <!-- Item -->
    <div class="timeline-item flex items-start mb-8">
      <!-- Left Content -->
      <div class="timeline-content w-1/2 pr-8 text-end">
        <span class="text-3xl text-primary" style="font-family: 'GT Alpina Fine', serif;">Sakana.ai</span>
        <br/>
        <span class="inline-flex items-center gap-x-1.5 py-1 px-5 rounded-full text-xs bg-primary text-white">Jan, 2024</span>
        <br/>
        <span class="text-xs text-primary mt-2 block">1st Japanese company with a focus on ALife.<br/>$30M seed round Jan, 2024.</span>
      </div>
      <!-- End Left Content -->

      <!-- Icon -->
      <div class="timeline-icon relative z-10 size-7 flex justify-center items-start">
        <div class="timeline-dot size-3 rounded-full bg-primary border-2 border-white"></div>
      </div>
      <!-- End Icon -->

      <!-- Right Content -->
      <div class="timeline-content w-1/2 pl-8">
        <img src="/assets/images/We-raised-30M 1.png" alt="Sakana.ai Logo" class="h-25 w-50 mt-5" loading="lazy"/>
      </div>
      <!-- End Right Content -->
    </div>
    <!-- End Item -->

    <!-- Item -->
    <div class="timeline-item flex items-center mb-8">
      <!-- Left Content -->
      <div class="timeline-content w-1/2 pr-8 flex justify-end">
        <img src="/assets/logo/logo2.png" alt="ALIFE Logo" class="h-15 w-30 mt-5 filter-primary" loading="lazy"/>
      </div>
      <!-- End Left Content -->

      <!-- Icon -->
      <div class="timeline-icon relative z-10 size-7 flex justify-center items-center">
        <div class="timeline-dot size-3 rounded-full bg-primary border-2 border-white"></div>
      </div>
      <!-- End Icon -->

      <!-- Right Content -->
      <div class="timeline-content w-1/2 pl-8">
        <span class="text-2xl text-primary" style="font-family: 'GT Alpina Fine', serif;">Alife</span>
        <br/>
        <span class="text-2xl text-primary" style="font-family: 'GT Alpina Fine', serif;">Institute Incorporated</span>
      </div>
      <!-- End Right Content -->
    </div>
    <!-- End Item -->

    <!-- Item -->
    <div class="timeline-item flex items-center mb-8">
      <!-- Left Content -->
      <div class="timeline-content w-1/2 pr-8 text-end">
        <span class="text-2xl text-primary" style="font-family: 'GT Alpina Fine', serif;">Research</span>
        <br/>
        <span class="text-2xl text-primary" style="font-family: 'GT Alpina Fine', serif;">Projects Began</span>
        <br/>
        <span class="inline-flex items-center gap-x-1.5 py-1 px-5 rounded-full text-xs bg-primary text-white">Dec, 2024</span>
      </div>
      <!-- End Left Content -->

      <!-- Icon -->
      <div class="timeline-icon relative z-10 size-7 flex justify-center items-center">
        <div class="timeline-dot size-3 rounded-full bg-primary border-2 border-white"></div>
      </div>
      <!-- End Icon -->

      <!-- Right Content -->
      <div class="timeline-content w-1/2 pl-8">
        <!-- ALife Research Grid -->
        <div class="grid grid-cols-2 gap-4 max-w-md">
          <div class="text-center">
            <p class="text-sm font-medium text-orange-400 mb-2">primordial soup</p>
            <div class="border-2 border-orange-400 rounded-lg overflow-hidden">
              <img src="/assets/images/primordial soup.png" alt="Primordial Soup" class="w-full h-24 object-cover" loading="lazy"/>
            </div>
          </div>
          <div class="text-center">
            <p class="text-sm font-medium text-orange-400 mb-2">structure</p>
            <div class="border-2 border-orange-400 rounded-lg overflow-hidden">
              <img src="/assets/images/primordial soup.png" alt="Structure" class="w-full h-24 object-cover"/>
            </div>
          </div>
          <div class="text-center">
            <p class="text-sm font-medium text-orange-400 mb-2">locomotion</p>
            <div class="border-2 border-orange-400 rounded-lg overflow-hidden">
              <img src="/assets/images/primordial soup.png" alt="Locomotion" class="w-full h-24 object-cover"/>
            </div>
          </div>
          <div class="text-center">
            <p class="text-sm font-medium text-orange-400 mb-2">coevolution</p>
            <div class="border-2 border-orange-400 rounded-lg overflow-hidden">
              <img src="/assets/images/primordial soup.png" alt="Coevolution" class="w-full h-24 object-cover"/>
            </div>
          </div>
          <div class="text-center">
            <p class="text-sm font-medium text-orange-400 mb-2">complexification</p>
            <div class="border-2 border-orange-400 rounded-lg overflow-hidden">
              <img src="/assets/images/primordial soup.png" alt="Complexification" class="w-full h-24 object-cover"/>
            </div>
          </div>
          <div class="text-center">
            <p class="text-sm font-medium text-orange-400 mb-2">disordered structures</p>
            <div class="border-2 border-orange-400 rounded-lg overflow-hidden">
              <img src="/assets/images/primordial soup.png" alt="Disordered Structures" class="w-full h-24 object-cover"/>
            </div>
          </div>
        </div>
      </div>
      <!-- End Right Content -->
    </div>
    <!-- End Item -->

    <!-- Future Items -->
    <div class="timeline-item flex items-center mb-8">
      <!-- Left Content -->
      <div class="timeline-content w-1/2 pr-8 text-end">
        <span class="text-xl text-primary">Now</span>
      </div>
      <!-- End Left Content -->

      <!-- Icon -->
      <div class="timeline-icon relative z-10 size-7 flex justify-center items-center">
        <div class="timeline-dot size-3 rounded-full bg-primary border-2 border-white"></div>
      </div>
      <!-- End Icon -->

      <!-- Right Content -->
      <div class="timeline-content w-1/2 pl-8">
        <span class="text-2xl text-primary" style="font-family: 'GT Alpina Fine', serif;">Kyoto</span>
        <br/>
        <span class="text-2xl text-primary" style="font-family: 'GT Alpina Fine', serif;">Office Opens</span>
        <br/>
        <span class="inline-flex items-center gap-x-1.5 py-1 px-5 rounded-full text-xs bg-primary text-white">Oct, 2025</span>
      </div>
      <!-- End Right Content -->
    </div>
    <!-- End Item -->

    <!-- Final Item -->
    <div class="timeline-item flex items-end mb-8">
      <!-- Left Content -->
      <div class="timeline-content w-1/2 pr-8 text-end">
        <span class="text-2xl text-primary" style="font-family: 'GT Alpina Fine', serif;">Non-Profit</span>
        <br/>
        <span class="text-2xl text-primary" style="font-family: 'GT Alpina Fine', serif;">Incorporation</span>
        <br/>
        <span class="inline-flex items-center gap-x-1.5 py-1 px-5 rounded-full text-xs bg-primary text-white">Dec, 2025</span>
      </div>
      <!-- End Left Content -->

      <!-- Icon -->
      <div class="relative z-10 size-7 flex justify-center items-end">
        <div class="timeline-dot size-3 rounded-full bg-primary border-2 border-white"></div>
      </div>
      <!-- End Icon -->

      <!-- Right Content -->
      <div class="timeline-content w-1/2 pl-8">
        <!-- Empty for clean layout -->
      </div>
      <!-- End Right Content -->
    </div>
    <!-- End Item -->
  </div>
  <!-- End Timeline -->
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const timelineLine = document.querySelector('.timeline-line');
    const timelineDots = document.querySelectorAll('.timeline-dot');
    const timelineContents = document.querySelectorAll('.timeline-content');
    
    // Function to check if element is in viewport
    function isInViewport(element: Element) {
      const rect = element.getBoundingClientRect();
      const windowHeight = window.innerHeight || document.documentElement.clientHeight;
      return rect.top < windowHeight && rect.bottom > 0;
    }
    
    // Function to trigger animations
    function triggerAnimations() {
      if (timelineLine && isInViewport(timelineLine) && !timelineLine.classList.contains('animate')) {
        // Animate timeline line
        timelineLine.classList.add('animate');
        
        // Animate dots with staggered delay
        setTimeout(() => {
          timelineDots.forEach((dot, index) => {
            setTimeout(() => {
              dot.classList.add('animate');
            }, index * 200);
          });
        }, 300);
        
        // Animate content with staggered delay
        setTimeout(() => {
          timelineContents.forEach((content, index) => {
            setTimeout(() => {
              content.classList.add('animate');
            }, index * 150);
          });
        }, 500);
      }
    }
    
    // Trigger animations on scroll
    window.addEventListener('scroll', triggerAnimations);
    
    // Trigger animations immediately if already in viewport
    setTimeout(triggerAnimations, 100);
  });
</script>
