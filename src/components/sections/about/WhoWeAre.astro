---
import '../../../styles/global.css';
import { t, type Locale } from '../../../utils/i18n.ts';

export interface Props {
  locale?: Locale;
}

const { locale = 'en' } = Astro.props;
---

<!-- Who We Are Section -->
<div class="max-w-4xl mx-auto px-4 mt-12">
  <!-- Who We Are Section -->
  <div class="mb-10">
    <h2 class="text-64px text-primary mb-8 text-center" style={`font-family: ${locale === 'ja' ? "'Noto Sans JP', sans-serif" : "'GT Alpina Fine', serif"};`}>{t(locale, 'about.whoWeAre')}</h2>

    <div class="space-y-6 text-primary leading-relaxed">
      <p class="text-20px font-light" style={`font-family: ${locale === 'ja' ? "'Noto Sans JP', sans-serif" : "'Inter', sans-serif"}; line-height: 1.5;`}>
        The Artificial Life Institute stands at the intersection of cutting-edge computer science and nature's most profound creative force: evolution. We don't follow predetermined paths like most traditional AIs. Instead, we harness open-endednessâ€”nature's grandest achievement that created a path from single cells to intelligent life, from the discovery of fire to exploring outer space, from primitive tools to artificial intelligence.
      </p>
      
      <p class="text-20px font-light" style={`font-family: ${locale === 'ja' ? "'Noto Sans JP', sans-serif" : "'Inter', sans-serif"}; line-height: 1.5;`}>
        Founded by <strong><a href={`${locale === 'ja' ? '/ja' : ''}/career#researchers`} class="text-primary hover:text-primary/80 underline decoration-2 underline-offset-4 transition-colors duration-200">world-class researchers</a></strong> and <strong><a href={`${locale === 'ja' ? '/ja' : ''}/support#supporters`} class="text-primary hover:text-primary/80 underline decoration-2 underline-offset-4 transition-colors duration-200">business leaders</a></strong>, we are dedicated to advancing research and driving business innovations. Our work spans from microscopic digital organisms to complex evolutionary simulations that could reshape how we understand intelligence itself.
      </p>
      
      <p class="text-20px font-light" style={`font-family: ${locale === 'ja' ? "'Noto Sans JP', sans-serif" : "'Inter', sans-serif"}; line-height: 1.5;`}>
        Based in Kyoto, we bring together brilliant minds who see beyond the current AI paradigm, building the foundation for a world where humans and artificial life forms co-evolve, creating possibilities neither could achieve alone. For complete transparency about our operations and commitment to your privacy, please see our <strong>fiscal report</strong> and <strong><a href={`${locale === 'ja' ? '/ja' : ''}/privacy-policy`} class="text-primary hover:text-primary/80 underline decoration-2 underline-offset-4 transition-colors duration-200">privacy policy</a></strong>.
      </p>
    </div>
  </div>

  <!-- Office Map Section -->
  <div class="mt-16 mb-10">
    <div class="flex justify-center">
      <img 
        src={`${import.meta.env.BASE_URL}assets/office-map/Office Map.svg`} 
        alt="Office Map - ALIFE Headquarters in Kyoto" 
        class="office-map-image max-w-full h-auto rounded-lg"
        style="max-height: 600px;"
      />
    </div>
  </div>

  <style>
    .office-map-image {
      transform: scale(0.8);
      opacity: 0;
      transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1), opacity 1s ease-out;
    }
    
    .office-map-image.animate {
      transform: scale(1);
      opacity: 1;
    }
  </style>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const officeMapImage = document.querySelector('.office-map-image');
      
      if (officeMapImage) {
        // Fallback: show image after 2 seconds if intersection observer doesn't work
        setTimeout(() => {
          if (!officeMapImage.classList.contains('animate')) {
            officeMapImage.classList.add('animate');
          }
        }, 2000);
        
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add('animate');
              }
            });
          },
          {
            threshold: 0.3, // Trigger when 30% of the image is visible
            rootMargin: '0px 0px -50px 0px' // Start animation slightly before fully visible
          }
        );
        
        observer.observe(officeMapImage);
      }
    });
  </script>
</div>
