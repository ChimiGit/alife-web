---
import Header from '../components/Header.astro';
import SupportLoading from '../components/loaders/SupportLoading.astro';
import TranslationProvider from '../components/TranslationProvider.astro';
import { loadMarkdownTranslations } from '../utils/markdown-translations.ts';

import '../styles/global.css';

// Get language from URL parameters or default to English
const urlParams = new URLSearchParams(Astro.url.search);
const lang = urlParams.get('lang') || 'en';
const translations = await loadMarkdownTranslations(lang);
// const translations = {
//   en: {
//     navigation: {
//       about: 'About', career: 'Career', blog: 'Blog', support: 'Support Us'
//     }
//   },
//   jp: {
//     navigation: {
//       about: '概要', career: 'キャリア', blog: 'ブログ', support: 'サポート'
//     }
//   }
// };
// const t = translations[lang as keyof typeof translations] || translations.en;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="/assets/logo/thumbnail-logo.png" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Support Us - ALIFE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body class="min-h-screen bg-gray-50">
    <!-- Loading Screen -->
    <div id="loading-screen" class="fixed inset-0 z-50 transition-all duration-700 ease-in-out">
      <SupportLoading lang={lang} />
    </div>

    <!-- Main Content (Hidden Initially) -->
    <div id="main-content" class="opacity-0 transition-opacity duration-500 ease-in hidden">
      <Header lang={lang} />
      <TranslationProvider lang={lang} />

      <!-- Main content -->
      <main class="pt-10 sm:pt-10" style="font-family: 'Inter', sans-serif;">
      <!-- Hero Section -->
      <section class="pb-12 sm:pb-16 md:py-20">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 text-center">
          <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-primary mb-6 sm:mb-8 leading-tight" style="font-family: 'GT Alpina Fine', serif;">
            Join the Evolution
          </h1>
        </div>
        <p class="text-gray-700 max-w-5xl mx-auto leading-relaxed px-4 sm:px-6 font-light" style="font-family: 'Inter', sans-serif; line-height: 2; font-size: 16px;">
           {translations['Science advances through community support. Your contribution helps fund breakthrough research that wouldn\'t be possible within traditional academic or corporate constraints. Our diverse team of world-class researchers and visionaries are exploring uncharted territory—and that requires resources, patience, and believers in long-term vision.'] || 'Science advances through community support. Your contribution helps fund breakthrough research that wouldn\'t be possible within traditional academic or corporate constraints. Our diverse team of world-class researchers and visionaries are exploring uncharted territory—and that requires resources, patience, and believers in long-term vision.'}
         </p>
      </section>

      <!-- Contact Section -->
      <section class="bg-gray-50 py-12 sm:py-16 md:py-20">
        <div class="max-w-6xl mx-auto px-4 sm:px-6">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-start">
            <!-- Contact Information -->
            <div class="space-y-8">
              <!-- Email -->
              <div class="flex items-start space-x-3 sm:space-x-4">
                <div class="flex-shrink-0 w-6 h-6 sm:w-8 sm:h-8 bg-primary rounded-lg flex items-center justify-center">
                  <svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                  </svg>
                </div>
                <div>
                  <p class="text-sm sm:text-base lg:text-lg text-primary font-normal">example@teamwebflow.com</p>
                </div>
              </div>

              <!-- Location -->
              <div class="flex items-start space-x-3 sm:space-x-4">
                <div class="flex-shrink-0 w-6 h-6 sm:w-8 sm:h-8 bg-primary rounded-lg flex items-center justify-center">
                  <svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  </svg>
                </div>
                <div>
                  <p class="text-sm sm:text-base lg:text-lg text-primary font-normal">Kyoto HQ, Japan</p>
                </div>
              </div>

              <!-- Phone -->
              <div class="flex items-start space-x-3 sm:space-x-4">
                <div class="flex-shrink-0 w-6 h-6 sm:w-8 sm:h-8 bg-primary rounded-lg flex items-center justify-center">
                  <svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                  </svg>
                </div>
                <div>
                  <p class="text-sm sm:text-base lg:text-lg text-primary font-normal">+44 123 654 7890</p>
                </div>
              </div>
            </div>

            <!-- Contact Form -->
            <div class="bg-white p-8 rounded-lg shadow-sm border border-gray-200">
              <form class="space-y-6">
                <!-- Name Field -->
                <div>
                  <label for="name" class="block text-20px font-normal text-gray-700 mb-2">
                    Name <span class="text-red-500">*</span>
                  </label>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200 text-gray-900 placeholder-gray-500"
                    placeholder={translations['Your name'] || 'Your name'}
                    >
                </div>

                <!-- Email Field -->
                <div>
                  <label for="email" class="block text-sm font-normal text-gray-700 mb-2">
                    Email <span class="text-red-500">*</span>
                  </label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200 text-gray-900 placeholder-gray-500"
                    placeholder="your.email@example.com"
                    >
                </div>

                <!-- Message Field -->
                <div>
                  <label for="message" class="block text-sm font-normal text-gray-700 mb-2">
                    Message
                  </label>
                  <textarea
                    id="message"
                    name="message"
                    rows="6"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200 text-gray-900 placeholder-gray-500 resize-vertical"
                    placeholder={translations['Your message'] || 'Tell us about your interest in supporting our research...'}
                  ></textarea>
                </div>

                <!-- Submit Button -->
                <div class="flex justify-end">
                  <button
                    type="submit"
                    class="bg-primary text-white px-6 py-2 rounded-full font-normal text-sm hover:bg-accent-cyan transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"
                  >
                    {translations['Send Message'] || 'Submit'}
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>
      </main>
    </div>

    <!-- Loading screen script -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Loading screen slide-up animation
        setTimeout(() => {
          const loadingScreen = document.getElementById('loading-screen');
          const mainContent = document.getElementById('main-content');

          if (loadingScreen && mainContent) {
            // Slide loading screen upward using CSS class
            loadingScreen.classList.add('loading-slide-up');

            setTimeout(() => {
              if (loadingScreen && mainContent) {
                // Hide loading screen and show main content
                loadingScreen.classList.add('hidden');
                mainContent.classList.remove('hidden');

                // Fade in main content
                setTimeout(() => {
                  if (mainContent) {
                    mainContent.classList.remove('opacity-0');
                    mainContent.classList.add('opacity-100');
                  }
                }, 50);
              }
            }, 700);
          }
        }, 2500); // Show loading for 2.5 seconds
      });
    </script>

  </body>
</html>
